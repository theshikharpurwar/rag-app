/* FILE: frontend/src/components/ChatInterface.css */
/* (Ghibli Theme) */

.chat-interface { display: flex; flex-direction: column; height: 100%; overflow: hidden; padding: 0; background-color: #fff; border-radius: var(--ghibli-border-radius); border: 1px solid var(--ghibli-panel-border); }
.chat-header { display: flex; justify-content: space-between; align-items: center; padding: 0.8rem 1.25rem; background-color: #e8f5e9; border-bottom: 1px solid #c8e6c9; color: var(--ghibli-text-main); border-top-left-radius: var(--ghibli-border-radius); border-top-right-radius: var(--ghibli-border-radius); }
.chat-title { display: flex; align-items: center; gap: 0.75rem; }
.chat-title svg { fill: var(--ghibli-accent-green); }
.chat-title h3 { margin: 0; font-size: 1.1rem; color: var(--ghibli-text-main); white-space: nowrap; overflow: hidden; text-overflow: ellipsis; max-width: 300px; font-family: 'Nunito', sans-serif; }
.chat-actions { display: flex; gap: 0.5rem; }
.icon-button { background: none; border: none; color: var(--ghibli-accent-green); cursor: pointer; padding: 0.25rem; border-radius: 50%; display: flex; align-items: center; justify-content: center; transition: var(--ghibli-transition); }
.icon-button:hover { background-color: rgba(0, 0, 0, 0.05); } .icon-button svg { fill: currentColor; }
.chat-messages { flex: 1; overflow-y: auto; padding: 1.5rem; display: flex; flex-direction: column; gap: 1.25rem; background-color: #f9f9f9; }
.welcome-message { text-align: center; padding: 1.5rem; background-color: #fff; border-radius: var(--ghibli-border-radius); border: 1px solid var(--ghibli-panel-border); margin: 1rem auto; max-width: 80%; }
.welcome-message h4 { margin-bottom: 0.5rem; color: var(--ghibli-accent-green); font-family: 'Nunito', sans-serif; } .welcome-message p { color: var(--ghibli-text-secondary); }
.message { display: flex; gap: 0.75rem; max-width: 80%; } .message.user { align-self: flex-end; flex-direction: row-reverse; } .message.assistant { align-self: flex-start; }
.message-avatar { width: 32px; height: 32px; border-radius: 50%; background-color: #e0e0e0; display: flex; align-items: center; justify-content: center; flex-shrink: 0; border: 1px solid #ccc; }
.message-avatar svg { width: 18px; height: 18px; fill: #555; } .message.user .message-avatar { background-color: var(--ghibli-accent-blue); border-color: #6fbfdf;} .message.user .message-avatar svg { fill: #fff; } .message.assistant .message-avatar { background-color: var(--ghibli-accent-green); border-color: #5f8a6b;} .message.assistant .message-avatar svg { fill: #fff; }
.message-content { padding: 0.7rem 1rem; border-radius: 12px; box-shadow: var(--ghibli-shadow); position: relative; border: 1px solid var(--ghibli-panel-border); }
.message.user .message-content { background-color: var(--ghibli-accent-blue); color: var(--ghibli-text-main); border-color: #7bc3e2; border-bottom-right-radius: 4px; }
.message.assistant .message-content { background-color: #fff; color: var(--ghibli-text-main); border-bottom-left-radius: 4px; }
.message-text { line-height: 1.5; white-space: pre-wrap; } .message-meta { display: flex; justify-content: flex-end; margin-top: 0.4rem; font-size: 0.7rem; color: var(--ghibli-text-secondary); opacity: 0.8; } .message.user .message-meta { color: rgba(58, 53, 50, 0.7); }
.message-sources { margin-top: 0.6rem; padding-top: 0.6rem; border-top: 1px solid var(--ghibli-panel-border); font-size: 0.75rem; } .sources-header { display: flex; align-items: center; gap: 0.4rem; color: var(--ghibli-text-secondary); margin-bottom: 0.4rem; font-weight: 600; } .sources-header svg { fill: currentColor; width: 13px; height: 13px;} .sources-list { list-style: none; padding: 0; margin: 0; } .source-item { display: flex; align-items: center; padding: 0.1rem 0; gap: 0.5rem; color: var(--ghibli-text-secondary); } .source-page { font-weight: 600; color: var(--ghibli-accent-green); } .source-document { flex: 1; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; } .source-score { width: 35px; height: 5px; background-color: #eee; border-radius: 3px; overflow: hidden; border: 1px solid #ddd;} .score-bar { height: 100%; background-color: var(--ghibli-accent-green); }
.typing-indicator { display: flex; align-items: center; gap: 4px; padding: 5px 0; } .typing-indicator span { width: 6px; height: 6px; border-radius: 50%; background-color: var(--ghibli-text-secondary); animation: typing 1.2s infinite ease-in-out; } .typing-indicator span:nth-child(1) { animation-delay: 0s; } .typing-indicator span:nth-child(2) { animation-delay: 0.2s; } .typing-indicator span:nth-child(3) { animation-delay: 0.4s; } @keyframes typing { 0%, 100% { transform: translateY(0); opacity: 0.6; } 50% { transform: translateY(-3px); opacity: 1;} }
.chat-input { display: flex; padding: 0.8rem 1rem; gap: 0.75rem; background-color: #e8e4dd; border-top: 1px solid var(--ghibli-panel-border); position: relative; } .input-container { flex: 1; position: relative; display: flex; }
.chat-input input { flex: 1; padding: 0.65rem 2.5rem 0.65rem 1rem; border: 1px solid var(--ghibli-panel-border); border-radius: 1.25rem; font-size: 1rem; background-color: #fff; color: var(--ghibli-text-main); transition: var(--ghibli-transition); }
.chat-input input::placeholder { color: var(--ghibli-text-secondary); opacity: 0.9; } .chat-input input:focus { outline: none; border-color: var(--ghibli-accent-green); box-shadow: 0 0 0 2px rgba(112, 160, 123, 0.2); }
.command-button { position: absolute; right: 0.4rem; top: 50%; transform: translateY(-50%); background: none; border: none; color: var(--ghibli-text-secondary); cursor: pointer; padding: 0.25rem; } .command-button:hover { color: var(--ghibli-accent-green); } .command-button svg { width: 18px; height: 18px; }
.commands-dropdown { position: absolute; bottom: calc(100% + 0.5rem); left: 0; right: 0; background-color: #fff; border: 1px solid var(--ghibli-panel-border); border-radius: var(--ghibli-border-radius); box-shadow: 0 -2px 10px rgba(0, 0, 0, 0.1); max-height: 250px; overflow-y: auto; z-index: 10; }
.command-item { padding: 0.6rem 1rem; cursor: pointer; transition: var(--ghibli-transition); border-bottom: 1px solid #eee; } .command-item:last-child { border-bottom: none; } .command-item:hover { background-color: #f0f0f0; } .command-text { font-weight: 600; margin-bottom: 0.15rem; color: var(--ghibli-text-main); } .command-description { font-size: 0.75rem; color: var(--ghibli-text-secondary); }
.send-button { background-color: var(--ghibli-accent-green); color: #fff; border: none; width: 38px; height: 38px; border-radius: 50%; display: flex; align-items: center; justify-content: center; cursor: pointer; transition: var(--ghibli-transition); flex-shrink: 0; box-shadow: 0 1px 2px rgba(0,0,0,0.1); }
.send-button:hover:not(:disabled) { background-color: #5a8a66; box-shadow: 0 2px 4px rgba(0,0,0,0.15); } .send-button:disabled { background-color: #ccc; color: #888; cursor: not-allowed; box-shadow: none;} .send-button svg { width: 18px; height: 18px; fill: currentColor; }